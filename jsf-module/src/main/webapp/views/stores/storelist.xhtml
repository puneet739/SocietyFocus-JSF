<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="layout/storelayout.xhtml">

	<ui:define name="meta">
		<f:metadata>
			<f:viewParam name="sortby" value="#{storelist.sortby}" />
			<f:viewParam name="page" value="#{storelist.pageNo}" />
			<f:event type="preRenderView" listener="#{storelist.init}" />
		</f:metadata>
	</ui:define>

	<ui:define name="banner">
		<ui:include src="/views/stores/banner.xhtml">
			 <ui:param name="banners" value="#{storelist.banners}" />
		</ui:include>
	</ui:define>
	
	<ui:define name="main_body">
		<script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"/>
			
		<div class="container-fluid filter_button" style="padding: 0;">
		<button type="button" class="btn btn-primary btn-lg btn-block">Filter</button>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-md-6 col-xs-12">
				<h2 style="margin-bottom: 20px;">Delhi Restaurant NCR</h2>
			</div>
		</div>
	</div>



	<!-- ====================SideBar Area =================================-->


	<div class="container">

		<div class="row">

			<div class="col-md-3 col-sm-4">
			<h:form>
				<div class="mybar">
					<div class="panel panel-default">
						<div class="panel-heading" style="text-align: center">Filters</div>
						<div class="panel-body">
							<div class="input-group">
								<input type="text" class="form-control filter-search"
									placeholder="Search for..." /><span class="input-group-btn">
									<button class="btn btn-default filter-search" type="button">
										<span class="glyphicon glyphicon-search"></span>
									</button>
								</span>
							</div>
						</div>
					</div>
					
					<ui:repeat var="filter" value="#{storelist.filters}">
						<div class="panel panel-default">
							<div class="panel-heading">#{filter.name}</div>
							<div class="panel-body">
								<ul class="list-group">
									<ul class="list-group">
										<ui:repeat var="displayoption" value="#{filter.displayOptions}">
											<a href="#{displayoption.url}"><li class="list-group-item"><span class="badge"> #{displayoption.displayresult}</span>  #{displayoption.name}</li></a>
										</ui:repeat>
									</ul>
								</ul>
							</div>
						</div>
					</ui:repeat>
					
					<!-- <div class="panel panel-default">
						<div class="panel-heading">Sort by</div>
						<div class="panel-body">
							<ul class="list-group">
								<a href="?sortby=views"><li class="list-group-item"><span class="badge"> High to Low</span> Popularity</li></a> 
								<a href="?sortby=rating"><li class="list-group-item"><span class="badge">High to Low</span> Rating</li></a>
								<a href="?sortby=costForTwo&amp;direction=descending"><li class="list-group-item"><span class="badge">High to Low</span> Cost</li></a>
								<a href="?sortby=costForTwo&amp;direction=ascending"><li class="list-group-item"><span class="badge">Low to High</span> Cost</li></a>
								<a href="?sortby=createdDate"><li class="list-group-item"><span class="badge">Latest first</span> Recently added</li></a>
							</ul>
						</div>
					</div> -->

					<div class="panel panel-default">
						<div class="panel-heading">Category</div>
						<div class="panel-body">
							<ul class="list-group">
								<li class="list-group-item"><span class="badge">3680</span>
									Delivery</li>
								<li class="list-group-item"><span class="badge">3003</span>
									Dine-Out</li>
								<li class="list-group-item"><span class="badge">660</span>
									Drink &amp; Nightlife</li>
								<li class="list-group-item"><span class="badge">892</span>
									Cafe's</li>
							</ul>
						</div>
					</div>

					<div class="panel panel-default">
						<div class="panel-heading">Location</div>
						<div class="panel-body">
							<ul class="list-group">
								<li class="list-group-item"><span class="badge">3686</span>
									South Delhi</li>
								<li class="list-group-item"><span class="badge">8656</span>
									west Delhi</li>
								<li class="list-group-item"><span class="badge">2597</span>
									Gurgaon</li>
								<li class="list-group-item"><span class="badge">1771</span>
									North Delhi</li>
								<li class="list-group-item"><span class="badge">1350</span>
									Noida</li>
								<li class="list-group-item"><span class="badge">1166</span>
									East Delhi</li>
								<li class="list-group-item"><span class="badge">6677</span>
									Gaziyabad</li>
							</ul>
						</div>
					</div>

					<div class="panel panel-default">
						<div class="panel-heading">Cuisine</div>
						<div class="panel-body">
							<ul class="list-group">
								<li class="list-group-item"><span class="badge">1544</span>
									North indian</li>
								<li class="list-group-item"><span class="badge">5148</span>
									Chinese</li>
								<li class="list-group-item"><span class="badge">745</span>
									Fast Food</li>
								<li class="list-group-item"><span class="badge">556</span>
									Muglai</li>
								<li class="list-group-item"><span class="badge">6565</span>
									Desert</li>
								<li class="list-group-item"><span class="badge">2569</span>
									South Indian</li>
								<li class="list-group-item"><span class="badge">201</span>
									Italian</li>
							</ul>
						</div>
					</div>
				</div>
				</h:form>
			</div>





			<!-- ====================Main List Area =================================-->
				<div class="col-md-6 col-xs-12 col-sm-8">
					<!-- Section Start-->
	
<!-- 					<ul class="product-list-vertical"> -->
						<!-- LIST BEGAINS-->
		
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twbs-pagination/1.3.1/jquery.twbsPagination.min.js"/>
		<script src="#{request.contextPath}/resources/js/storelist.js"></script>
		
		<h:form id="paginationForm" prependId="false" style="display:none">
			<p:inputText id="pageNumber" value="#{storelist.pageNo}" />
			<p:commandButton id="actionButton" actionListener="#{storelist.doNothing}" update=":stores"/>
		</h:form>
		
				<h:panelGroup id="stores">
					<ul class="product-list-vertical">
						<ui:repeat var="store" value="#{storelist.stores}">
							<div>
								<li class="list1"><a href="#{request.contextPath}/detail?id=#{store.storeid}" class="product-photo"> <img
										src="#{store.backgroundImage.imageUrl}" alt="hotel thumbnail"
										style="height: 100px; width: 150px; border-radius: 7px;" /></a>
				
									<div class="product-details">
				
										<div class="star">
											<p>
												<strong class="stron">#{store.rating}</strong>
											</p>
											<p style="margin-top: 10px;">
												#{store.views} <br />views
											</p>
										</div>
				
				
				
										<p class="product-compare1">#{store.storeType}</p>
										<h2>
											<a href="#{request.contextPath}/detail?id=#{store.storeid}">#{store.name}</a>
										</h2>
										<p class="product-compare1"
											style="margin-bottom: 8px; margin-top: 8px;">
											<strong class="add">#{store.address}</strong>
										</p>
										<p class="product-compare1">#{store.address}</p>
				
				
									</div>
				
									<hr>
									<div>
										<table>
											<ui:fragment rendered="#{store.cusines ne null}">
												<!-- Details and services of hotel -->
												<tr>
													<td class="tabledata">CUISINS:</td>
													<td class="black">
														<ui:repeat var="cusine" value="#{store.cusines}">#{cusine} , </ui:repeat>
													</td>
												</tr>
											</ui:fragment>
											<ui:fragment rendered="#{store.costForTwo ne 0}">
												<tr>
													<td class="tabledata">COST FOR TWO:</td>
													<td class="black">Rs. #{store.costForTwo}</td>
												</tr>
											</ui:fragment>
											<tr>
												<td class="tabledata">HOURS:</td>
												<td class="black">#{store.detail2}</td>
											</tr>
											<ui:fragment rendered="#{store.detail3 ne null}">
												<tr>
													<td class="tabledata">FEATURED IN:</td>
													<td class="black">#{store.detail3}</td>
												</tr>
											</ui:fragment>
											<ui:fragment rendered="#{store.promotion ne null}">
												<tr>
													<td class="tabledata">DISCOUNT</td>
													<td class="black"> #{store.promotion}</td>
												</tr>
											</ui:fragment>
										</table>
										<!-- Details END-->
				
										<div class="btn-group btn-group-justified" role="group"
											aria-label="...">
											<!-- THREE BUTTON -->
											<div class="btn-group" role="group">
												<button type="button" class="btn btn-default call btn2">
													<span class="glyphicon glyphicon-earphone btn3"></span><a href="tel:#{store.phoneNo[0]}">CALL</a>
												</button>
											</div>
											<ui:fragment rendered="#{store.storeType=='RESTAURANT'}">
											<div class="btn-group" role="group">
												<button type="button" class="btn btn-default call btn2">
													<span class="glyphicon glyphicon-th-list btn3"></span>Menu
												</button>
											</div>
											</ui:fragment>
											<div class="btn-group" role="group">
												<a href="#{request.contextPath}/detail?id=#{store.storeid}"><button type="button" class="btn btn-default order btn2 color">
													<span class="glyphicon glyphicon-phone btn3"></span>Order Now
												</button></a>
											</div>
										</div>
										<!-- THREE BUTTON END -->
									</div>
									</hr></li>
							</div>
						</ui:repeat>
					</ul>
				</h:panelGroup>
		
		
				<!-- Pagination  -->
				<div class="row">
					<div class="col-md-12 col-md-offset-2 col-xs-8 col-xs-offset-2">
						<div id="pagination-box">
							<ul id="pagination-container" class="pagination-sm"></ul>
						</div>
					</div>
				</div>
			</div>
			<!-- Section Ends-->
			<div class="col-md-3 col-xs-12">
				<div class="text-center row"><ins class="adsbygoogle"
				     style="display:block"
				     data-ad-client="ca-pub-7208785423388103"
				     data-ad-slot="3743651329"
				     data-ad-format="auto"></ins>
			   </div>
			</div>
		</div>
		<!-- /.ROW -->
	</div>
	<!-- /.container -->

	<script>
		var totalCount = #{storelist.totalCount};
		if (totalCount>0){
			$('#pagination-container').twbsPagination({
				totalPages: Math.ceil(#{storelist.totalCount/storelist.PAGE_SIZE}),
				visiblePages: 7,
				startPage: #{storelist.pageNo},
				href: '?page={{number}}&amp;#{storelist.queryParam()}',
// 			    onPageClick: function(event, page) {
// 			    		loadData(page);
// 					}
			});
		}
		
		[].forEach.call(document.querySelectorAll('.adsbygoogle'), function(){
	        (adsbygoogle = window.adsbygoogle || []).push({});
	        });
	</script>
		
		
	</ui:define>
</ui:composition>